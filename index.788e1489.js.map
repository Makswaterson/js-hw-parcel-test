{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,YAIvC,IAAIC,EAASC,aAAaC,QADH,WAC8B,IACjDC,EAAQC,KAAKC,MAAMJ,aAAaC,QAJtB,UAIyC,G,IAC3CI,EAAZ,IAAIC,EAA+C,QAAvCD,EAAAF,KAAKC,MAAMJ,aAAaC,QAJtB,gBAIqC,IAAvCI,IAA2C,GACvD,MAAME,EAAM,CACV,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAET,IAAIC,EAAS,GAEb,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EAC3BD,GAAU,8BAA8BC,YAyC1C,SAASC,EAAYC,GAEnB,OADeJ,EAAIK,MAAKC,GAAUA,EAAOC,OAAMC,GAASJ,EAAIK,SAASD,M,CAIvE,SAASE,IACPrB,EAAQsB,UAAYV,EACpBR,aAAamB,QACbpB,EAAS,IACTG,EAAQ,GACRI,EAAQ,E,CAhDVV,EAAQwB,mBAAmB,YAAaZ,GACxCZ,EAAQyB,iBAAiB,SAEzB,SAAiBC,GAEf,IAAKA,EAAIC,OAAOC,YAAa,CAC3B,MAAMC,EAAKC,OAAOJ,EAAIC,OAAOI,QAAQF,IAErC,GADAH,EAAIC,OAAOC,YAAczB,EACV,MAAXA,EAAgB,CAClBG,EAAM0B,KAAKH,GACXzB,aAAa6B,QAhCL,OAgCoB1B,KAAK2B,UAAU5B,IAE3C,GADiBQ,EAAYR,GAM3B,OAJA6B,QAAQC,IAAI,GAAGjC,uBACZkC,YAAQ,KACThB,GAAO,GACN,I,KAGA,CACLX,EAAMsB,KAAKH,GACXzB,aAAa6B,QA1CL,OA0CoB1B,KAAK2B,UAAUxB,IAC3C,MAAM4B,EAAWxB,EAAYJ,GAE7B,GADAgB,EAAIC,OAAOC,YAAczB,EACrBmC,EAKF,OAJAH,QAAQC,IAAI,GAAGjC,uBACfkC,YAAW,KACThB,GAAO,GACN,I,CAKPlB,EAAoB,MAAXA,EAAiB,IAAM,IAChCC,aAAa6B,QAtDM,SAsDkB9B,E,KAiBxC,WACC,IACE,IAAIH,EAAQuC,UAAUC,SAAQC,IAC5B,MAAMZ,EAAKC,OAAOW,EAAKV,QAAQF,IAC3BvB,EAAMc,SAASS,GACjBY,EAAKb,YAAc,IACVlB,EAAMU,SAASS,KACxBY,EAAKb,YAAc,IAAG,G,CAG1B,MAAOc,GACPP,QAAQC,IAAI,qB,CAEf,CAbA","sources":["src/localstorage16/script.js"],"sourcesContent":["const content = document.querySelector('.content');\nconst KEY_X = 'keyX';\nconst KEY_O = 'keyO';\nconst CURRENT_PLAYER = 'player';\nlet player = localStorage.getItem(CURRENT_PLAYER) || 'X';\nlet stepX = JSON.parse(localStorage.getItem(KEY_X)) || [];\nlet stepO = JSON.parse(localStorage.getItem(KEY_O)) ?? [];\nconst win = [\n  [1, 2, 3],\n  [4, 5, 6],\n  [7, 8, 9],\n  [1, 4, 7],\n  [2, 5, 8],\n  [3, 6, 9],\n  [1, 5, 9],\n  [3, 5, 7],\n];\nlet markup = '';\n\nfor (let i = 1; i <= 9; i += 1) {\n  markup += `<div class=\"item\" data-id=\"${i}\"></div>`;\n}\n\ncontent.insertAdjacentHTML('beforeend', markup);\ncontent.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  // '' => !false => true\n  if (!evt.target.textContent) {\n    const id = Number(evt.target.dataset.id);\n    evt.target.textContent = player;\n    if (player === 'X') {\n      stepX.push(id);\n      localStorage.setItem(KEY_X, JSON.stringify(stepX));\n      const isWinner = checkWinner(stepX);\n      if (isWinner) {\n        console.log(`${player} is Winner ðŸ˜Ž`);\n        setTimeout(() => {\n          reset();\n        }, 500);\n        return;\n      }\n    } else {\n      stepO.push(id);\n      localStorage.setItem(KEY_O, JSON.stringify(stepO));\n      const isWinner = checkWinner(stepO);\n      evt.target.textContent = player;\n      if (isWinner) {\n        console.log(`${player} is Winner ðŸ˜Ž`);\n        setTimeout(() => {\n          reset();\n        }, 500);\n        return;\n      }\n    }\n\n    player = player === 'X' ? 'O' : 'X';\n    localStorage.setItem(CURRENT_PLAYER, player);\n  }\n}\n\nfunction checkWinner(arr) {\n  const result = win.some(values => values.every(value => arr.includes(value)));\n  return result;\n}\n\nfunction reset() {\n  content.innerHTML = markup;\n  localStorage.clear();\n  player = 'X';\n  stepX = [];\n  stepO = [];\n}\n\n(function () {\n  try {\n    [...content.children].forEach(item => {\n      const id = Number(item.dataset.id);\n      if (stepX.includes(id)) {\n        item.textContent = 'X';\n      } else if (stepO.includes(id)) {\n        item.textContent = 'O';\n      }\n    });\n  } catch (e) {\n    console.log('localStorage empty');\n  }\n})();\n"],"names":["$691fcb553e711daa$var$content","document","querySelector","$691fcb553e711daa$var$player","localStorage","getItem","$691fcb553e711daa$var$stepX","JSON","parse","$691fcb553e711daa$var$ref","$691fcb553e711daa$var$stepO","$691fcb553e711daa$var$win","$691fcb553e711daa$var$markup","i","$691fcb553e711daa$var$checkWinner","arr","some","values","every","value","includes","$691fcb553e711daa$var$reset","innerHTML","clear","insertAdjacentHTML","addEventListener","evt","target","textContent","id","Number","dataset","push","setItem","stringify","console","log","setTimeout","isWinner","children","forEach","item","e"],"version":3,"file":"index.788e1489.js.map"}